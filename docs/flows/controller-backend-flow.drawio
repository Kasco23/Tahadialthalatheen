<mxfile host="app.diagrams.net" modified="2025-08-21T14:03:23.749Z" agent="5.0" version="24.7.17" etag="generated">
  <diagram name="Controller Backend Flow" id="controller-backend-flow">
    
<mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169">
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    
    <!-- Start State -->
    <mxCell id="start" value="System Ready" style="ellipse;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="40" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Create Game Record -->
    <mxCell id="create_record" value="Create Game Record\n(Supabase INSERT)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="140" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Initialize State -->
    <mxCell id="init_state" value="Initialize State\n(phase: CONFIG)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="240" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Setup Realtime -->
    <mxCell id="setup_realtime" value="Setup Realtime\n(Supabase channels)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="340" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Monitor Connections -->
    <mxCell id="monitor" value="Monitor Connections\n(Track participants)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="440" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Game State Management -->
    <mxCell id="game_state" value="Game State Mgmt\n(phase: PLAYING)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="200" y="540" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Video Room API -->
    <mxCell id="video_api" value="Video Room API\n(Daily.co integration)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="520" y="540" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- End State -->
    <mxCell id="end" value="Cleanup State\n(phase: COMPLETED)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#DC2626;fontColor=white;strokeColor=white;" vertex="1" parent="1">
      <mxGeometry x="360" y="640" width="120" height="60" as="geometry"/>
    </mxCell>
    
    <!-- Transitions -->
    <mxCell edge="1" parent="1" source="start" target="create_record">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="create_record" target="init_state">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="init_state" target="setup_realtime">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="setup_realtime" target="monitor">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="monitor" target="game_state">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="monitor" target="video_api">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="game_state" target="end">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell edge="1" parent="1" source="video_api" target="end">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
  </root>
</mxGraphModel>
  </diagram>
</mxfile>